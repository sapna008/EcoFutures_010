<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Wishlist</title>
      <!-- nav bar  style -->
       <!-- Google Fonts  -->

       <link rel="preconnect" href="https://fonts.googleapis.com" />
       <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
       <link
         href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
         rel="stylesheet"
       />
       <!-- Google Fonts  -->
   
       <!-- Tailwind CSS CDN  -->
       <script src="https://cdn.tailwindcss.com"></script>
       <!-- Tailwind CSS CDN  -->
   
       <link rel="stylesheet" href="../styles/navbar.css" />
  <!-- navbar style end -->

    <style>
      /* Basic reset */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }


      .container {
        border-radius: 12px;
        padding: 20px 30px;
        width: 100%;
        max-width: 1200px;
        margin: 20px auto;
      }

      h1 {
        text-align: center;
        font-size: 2rem;
        margin-bottom: 20px;
        color: #333;
      }

      .product {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        justify-content: space-around;
      }

      .product-card {
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-align: center;
        padding: 20px;
      }

      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
      }

      .product-card img {
        width: 100%;
        height: auto;
        max-height: 200px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 15px;
      }

      .product-card h2 {
        font-size: 1.5rem;
        color: #333;
        margin-bottom: 10px;
      }

      .product-item {
        font-size: 0.9rem;
        color: #666;
        margin: 8px 0;
      }

      .product-item strong {
        color: #333;
      }

      .price {
        color: #e74c3c;
        font-size: 1.2rem;
        margin: 15px 0;
        font-weight: bold;
      }

      .button {
        display: inline-block;
        padding: 10px 20px;
        background-color: #3498db;
        color: #fff;
        text-decoration: none;
        font-size: 1rem;
        border-radius: 5px;
        transition: background-color 0.3s ease;
        margin-top: 10px;
      }

      .button:hover {
        background-color: #2980b9;
      }

      .delete-button {
        background-color: #e74c3c;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1rem;
        margin-top: 10px;
        transition: background-color 0.3s ease;
      }

      .delete-button:hover {
        background-color: #c0392b;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .container {
          padding: 20px;
        }

        .product {
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 1.5rem;
        }

        .product {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div>
      <nav class="bg-white border-none shadow-md">
        <div class=" mx-auto px-4 py-3">
          <div class="flex justify-between items-center">
            <div class="flex justify-center items-center gap-4">
              <div
                class="xl:hidden md:block sm:block hamburger w-[24px] h-[24px] cursor-pointer"
                id="hamburger"
              >
                <img
                  class="w-full h-full"
                  src="https://img.icons8.com/?size=100&id=36389&format=png&color=000000"
                  alt=""
                />
              </div>

              <a href="../index.html" class="flex items-center">
                <img
                  src="../LOGO.svg"
                  class="w-[65px] h-[17px]"
                  alt="Casio Logo"
                />
              </a>
            </div>

            <div class="hidden xl:block">
              <div class="flex space-x-8 text-[14px] font-semibold relative">
                <div
                  class="group relative border-b-2 border-transparent hover:border-[#000000] pt-4 pb-3 transition-all duration-300"
                  onmouseover="showDropdown('watches')"
                  onmouseout="hideDropdown()"
                  onclick="changePage('Watches')"
                >
                  <a href="../pages/watches/watches.html?mainpath=watches" class="text-[#2c3042]"> Watches </a>
                </div>
                <div
                  class="group relative border-b-2 border-transparent hover:border-[#000000] pt-4 pb-3 transition-all duration-300"
                  onmouseover="showDropdown('calculator')"
                  onmouseout="hideDropdown()"
                  onclick="changePage('Watches')"
                >
                  <a href="../music/music.html" class="text-[#2c3042]">
                    Electronic Musical Instruments
                  </a>
                </div>
                <div
                  class="group relative border-b-2 border-transparent hover:border-[#000000] pt-4 pb-3 transition-all duration-300"
                  onmouseover="showDropdown('instruments')"
                  onmouseout="hideDropdown()"
                  onclick="changePage('Watches')"
                >
                  <a href="../pages/calculator/basicCalculator.html?mainpath=basicCal" class="text-[#2c3042]"> Calculators </a>
                </div>
                <div
                  class="group relative border-b-2 border-transparent hover:border-[#000000] pt-4 pb-3 transition-all duration-300"
                  onmouseover="showDropdown('other')"
                  onmouseout="hideDropdown()"
                  onclick="changePage('Watches')"
                >
                  <a href="" class="text-[#2c3042]">
                    Label Printers & Others
                  </a>
                </div>
                <div
                  id="hoverDropdown"
                  class="absolute z-20 bg-white-900 hidden shadow-[inset 0 0 8px rgba(0, 0, 0, 1)] w-[70rem] h-[20rem] bg-white shadow-lg top-full left-0 right-0 transform -translate-x-[5rem] my-0 mx-auto transition-all duration-300 ease-in-out opacity-0"
                >
                  <div class="p-4 bg-white">
                    <div id="hoverContent">Hover Content</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="flex items-center gap-8">
              <div
                class="relative lg:flex hidden items-center bg-white rounded-full border-b-2"
              >
                <input
                  type="text"
                  id="search"
                  placeholder="Search...."
                  class="bg-transparent px-4 py-2 w-[200px] text-sm focus:outline-none"
                />
                <img
                  src="https://img.icons8.com/?size=100&id=132&format=png&color=000000"
                  class="w-5 h-5 ml-3"
                  alt="Search Icon"
                />
              </div>

            </div>
          </div>
        </div>
      </nav>
      <div
        id="drawer-navigation"
        class="fixed inset-y-0 top-0 left-0 w-9/12 h-screen bg-white shadow-lg transition-transform transform -translate-x-full"
      >
        <div>
          <ul class="mt-4 space-y-2 text-black h-[80%] overflow-y-auto">
            <li>
              <button
                type="button"
                class="flex items-center w-full p-2 text-base transition duration-75 rounded-lg group hover:bg-gray-100"
                aria-controls="sliderDropdown"
                data-collapse-toggle="sliderDropdown"
                id="dropdownButton"
              >
                <span
                  class="text-black font-bold flex-1 ms-3 text-left rtl:text-right whitespace-nowrap"
                >
                  Watches
                </span>
              </button>

              <ul id="sliderDropdown" class="hidden py-2 space-y-2">
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=gshock"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; G-SHOCK
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=vintage"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; CASIO VINTAGE
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=edifice"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; CASIO EDIFIC
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=casioCol"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; CASIO COLLECTION
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=sheen"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; SHEEN
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=babyg"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; BABY-G
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=protrek"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; PROTREK
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/basicCalculator.html?mainpath=basicCal
                    watchesCategory.html?"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; CLOCK
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/watchesCategory.html?mainpath=watches&subpath=casioCol"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; OTHERS
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/watches/basicCalculator.html?mainpath=basicCal
                    watchesCategory.html?"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    All Watches
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <button
                type="button"
                class="flex items-center w-full p-2 text-base transition duration-75 rounded-lg group hover:bg-gray-100"
                aria-controls="womenDropdown"
                data-collapse-toggle="womenDropdown"
                id="womenButton"
              >
                <span
                  class="text-black font-bold flex-1 ms-3 text-left rtl:text-right whitespace-nowrap"
                >
                  Electronic Musical Instruments
                </span>
              </button>

              <ul id="womenDropdown" class="hidden py-2 space-y-2">
                <li>
                  <a
                    href="../music/music.html"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; Shop By Skill
                  </a>
                </li>
                <li>
                  <a
                    href="../music/music.html"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; Keyboard & Pianos
                  </a>
                </li>
                <li>
                  <a
                    href="../music/music.html"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    &lt; Others
                  </a>
                </li>
                <li>
                  <a
                    href="../music/music.html"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    All Electronic Musical Instruments
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <button
                type="button"
                class="flex items-center w-full p-2 text-base transition duration-75 rounded-lg group hover:bg-gray-100"
                aria-controls="kidsDropdown"
                data-collapse-toggle="kidsDropdown"
                id="kidsButton"
              >
                <span
                  class="text-black font-bold flex-1 ms-3 text-left rtl:text-right whitespace-nowrap"
                >
                  Calculators
                </span>
              </button>

              <ul id="kidsDropdown" class="hidden py-2 space-y-2">
                <li>
                  <a
                    href="../pages/calculator/scientificCalculator.html?mainpath=scientificCal"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    Scientific Calculators
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/calculator/scientificCalculator.html?mainpath=scientificCal"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    Desktop Calculators
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/calculator/scientificCalculator.html?mainpath=scientificCal"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    Apps & Software-Sienntific Calculators
                  </a>
                </li>
                <li>
                  <a
                    href="../pages/calculator/"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    Casio Calculator Journey
                  </a>
                </li>
                <li>
                  <a
                    href="#"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    Contents
                  </a>
                </li>
              </ul>
            </li>

            <li>
              <button
                type="button"
                class="flex items-center w-full p-2 text-base transition duration-75 rounded-lg group hover:bg-gray-100"
                aria-controls="homeLivingDropdown"
                data-collapse-toggle="homeLivingDropdown"
                id="homeLivingButton"
              >
                <span
                  class="text-black font-bold flex-1 ms-3 text-left rtl:text-right whitespace-nowrap"
                >
                  Label Printers & Tapes
                </span>
              </button>

              <ul id="homeLivingDropdown" class="hidden py-2 space-y-2">
                <li>
                  <a
                    href="#"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    Label Printers
                  </a>
                </li>
                <li>
                  <a
                    href="#"
                    class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100"
                  >
                    Label Tapes
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>


    <div class="container">
      <h1>Product Wishlist</h1>
      <div id="productDetails" class="product"></div>
      <div id="errorMessage" class="error"></div>
    </div>

    <script type="module">
      const baseUrl = "https://www.casio.com";
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
      import { getDatabase, ref, get, remove } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDxdyyL_TF-A_99KRxlDdRgzRc6_mkDL-0",
        authDomain: "casio-4ac93.firebaseapp.com",
        projectId: "casio-4ac93",
        storageBucket: "casio-4ac93.appspot.com",
        messagingSenderId: "115949092498",
        appId: "1:115949092498:web:d470d2d4a619c00f3eb04b",
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      // Fetch and display products when the page loads
      document.addEventListener("DOMContentLoaded", function () {
        getAllUsers();
      });

      function getAllUsers() {
        const usersRef = ref(db, "wishlist");
        get(usersRef)
          .then((snapshot) => {
            if (snapshot.exists()) {
              displayProductData(snapshot.val());
            } else {
              console.log("No data available.");
            }
          })
          .catch((error) => {
            console.error("Error reading data:", error);
          });
      }

      function displayProductData(products) {
        const productDetails = document.getElementById("productDetails");
        productDetails.innerHTML = "";

        Object.keys(products).forEach((key) => {
          const product = products[key];
          const card = document.createElement("div");
          card.classList.add("product-card");

          card.innerHTML = `
            <h2>${product.productName || "N/A"}</h2>
            <img src="${product.productAssets ? baseUrl+product.productAssets.path : "#"}" alt="${product.productName}">
            <div class="product-item">
              <strong>Brand:</strong> ${product.brandDisp || "N/A"}
            </div>
            <div class="product-item">
              <strong>Price:</strong> ${product.dispPrice || "N/A"}
            </div>
            <div class="product-item">
              <strong>Category:</strong> ${product.productCategory || "N/A"}
            </div>

            <div class="price">₹ ${product.salePrice}</div>
            <a href="${product.url || "#"}" target="_blank"><button class="button">View Product</button></a>
            <button class="delete-button" data-id="${key}">Delete</button>
          `;

          productDetails.appendChild(card);

          // Add event listener to the delete button
          const deleteButton = card.querySelector(".delete-button");
          deleteButton.addEventListener("click", function () {
            deleteProduct(key);
          });
        });
      }

      function deleteProduct(productId) {
        const productRef = ref(db, `wishlist/${productId}`);
        remove(productRef)
          .then(() => {
            console.log(`Product with ID ${productId} deleted successfully.`);
            getAllUsers(); // Refresh the product list
          })
          .catch((error) => {
            console.error("Error deleting product:", error);
          });
      }
    </script>
         <!-- navbar script -->
         <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
         <!-- home script end-->
         <script src="../script.js"></script>
         <!-- navbar script ended-->
  </body>
</html>
